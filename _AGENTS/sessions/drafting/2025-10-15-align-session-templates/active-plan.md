# Active Plan: Align Session Templates

## Current Focus

Session is in **drafting** status. Ready to move to planned/ for agent to claim.

## Task Breakdown

### Phase 1: Inventory Templates
- [ ] Read session-env.template thoroughly
- [ ] Read kb-merge-SESSION.md thoroughly
- [ ] List all variables used in each
- [ ] Check how scripts use templates
- [ ] Document current state

### Phase 2: Update session-env.template
- [ ] Update environment variables
- [ ] Remove deprecated variables
- [ ] Add worktree references
- [ ] Add clear comments
- [ ] Test template substitution

### Phase 3: Update kb-merge-SESSION.md
- [ ] Update template variables
- [ ] Update structure to match standards
- [ ] Add worktree workflow references
- [ ] Add read-only note placeholder
- [ ] Test template substitution

### Phase 4: Verify Script Integration
- [ ] Test claim-session template usage
- [ ] Test complete-session template usage
- [ ] Fix any mismatches found
- [ ] Test with real session

### Phase 5: Update Documentation
- [ ] Check if templates are documented
- [ ] Add documentation if needed
- [ ] Update examples referencing templates

### Phase 6: Test End-to-End
- [ ] Test session claim workflow
- [ ] Test KB merge creation workflow
- [ ] Verify all generated files correct
- [ ] Document test results

### Phase 7: Final Review
- [ ] Review all changes
- [ ] Update worklog
- [ ] Create follow-up sessions if needed

## Blockers

None - ready to start.

## Next Actions

1. User reviews session and moves to planned/
2. Agent claims session
3. Agent begins with template inventory
4. Agent updates templates incrementally

## Notes

Start by reading the templates and scripts to understand current usage, then make targeted updates.

Test each template change to ensure scripts still work correctly.
